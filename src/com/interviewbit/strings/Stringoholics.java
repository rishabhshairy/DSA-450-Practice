package com.interviewbit.strings;

public class Stringoholics {
    public static void main(String[] args) {
        String[] arr = {"baaabaababbabbbabaabbaaaababbababbbabbbbabbbaabaaabbaababbbaa", "bbbababbbbaaaaabaabaababbbbaabababbbbaaabaabbaabbabbbbabbbbbaaaabbabbabababaabbbbbaba", "abababbabbbbaaababbbbabababababbbbbaaaaababbabbbaaababaaababbbbbaabbabbababaaababb", "bbabbbbabababbbaaabaabbabababaaabaaabbbaaaababbaaaaabbabbbbabbbbb", "baaababbbbba", "babbaabbaaaabbbaaaaababbbbbaabbbaaaabbbbbbbaabbabbaabaabbbbbabaabaaabbbaabaaabababaabababa", "bbbabbabaabaaaabaabbaababbbb", "a", "abbaaaaaaababbbabbbabaaabbbbabbabbabbababaaabbaaabbabbababaabbaaaababbaabaabaababaabb", "aaaaabbbbabaaabaabaaaaabbaabbbabbabababaaaaabaabbbabbaaaaaabaaababb", "aababbbabbbaabbaaaaaaaaa", "aaaabbaaaababbbbaababbabaaaaaabbabbabbabbbbbabaabbaabaa", "babbaaababbbabaaaababbaaababbaaa", "aabaaaaabbaaaaaababaabbbbababbabbbbabaaabaabb", "baaabbbaababbbbbaabaaaaabbbbbaaaaabbbababababaaabbabbaaabbaababbaabaaaaaabaaaaabbaabaabbbbaabbaab", "abbababaabaaaa", "bbababbabbbabbbabbabaabaaababbaaaababaabaabbbbabaaaaabbaaaabbabbaabbbaabaaa", "baababbaaaaaaabbaaaabaaaaabaabbbaaaababbabababaaabbbbbbbbabababbaaababbaabbaaabababababaaaaaaa", "babaaababaabbaabbabbbbaaaaaaaabbab", "abbbaababbaaabbbabbabbbbbbababbababbaabbbaabbbababababaaabbaaab", "aabbbaaaaaabaabaabaaaaaabbbababaaabbbbabaabaaaaababbbbbabaaaaaabababbabbaabbab", "baaababbbaabaaababaaaabbbbaababaaaabababbaaaaabbabbaaaabbabaaaaaaabababbaabbaaaaabbabbba", "aaaaaabaabbabaabbbbabaaabababbbbbbbbaabaababbaababbbbbaabbaabababaabbbbbabaaaa", "ababbbbbabaaaababbabaaabaabaabbabbbaabbaabaabbabbbabbabbaaaaababbabbbaab", "abbab", "baaabbbbbabaaaabbaabbabaabbabbaabbbbaaababbababbabaaa", "aaaaaabbaaabbaabbaabbababbabbaaaaaabababbaabaaabbbaabbaababaabab", "aaababbabaaaabbbababbaaabbaabbaababb", "abaababbbababaabbabaab", "abbbbbbababaabbbbbabaababbbbaabaaabbbaabbbbbaaabbabaaaaaabbabaabbbbaabbbaaaaaaaaabaaba", "bbabaababbbababaaaa", "aaaaabaabababbaabbababbbbabbabbbbabbbaaaabbaababaaabbbaaaabababbabaabaabbbbbabbbbbaabaababbaa", "baababababaabbbaabbabaaabbbbbbaaaababbbbbababbababbbabbbababaabaabbbaabbaabbbbabbbbbbaabbb", "abaaabbbaaababbaaaaabababbbababbbabbbbbbbbbbaabbaabaaaabbbbabbbbbbaaababbbab", "aababbababbbabbbbaaaabaabbbababbbabaabaaabbbaaababbbabbbaabaaabb", "baaaaabbaabaabbbaababaabbabbababbabbbaababbbaaabaabbabaaaababbbaaabbbbababababaabbabaabaabababb", "aabbbbaabbbbabbbabaaaababbabbbabababbabababbbaababaabbaaaabbabaabababbaabbabbaabbababaaaaababaaaaaa", "baaababbaaaaaaaaabaabbbabbbabbbaabbbbaaaababbabbbb", "aaabaaaabbbabbbbabbaaaabbb", "aababbaabaababbababaaabbaabbbababaaaaaabb", "bbbabaaaa", "aabba", "abbabaabaaaaababaabbabbbbbbbabababbaabbaabbaabbababababaaababbbbbabbabbaaaababbbbbbaba", "baaabbbbaaababbaababbbababaabbaabaabaaaaaaaaabaaaababbbbbbbaabaaabbabbabbab", "bbbabaaaabbbaabbbb", "baabbbaaaabaaaba", "aabababbaaaabbbabbbababbbbbaabbabbaabb", "abaababbbaaababbaaaaaabbbabaabaaaaababaaababbbabbbbbbbaabaabbabbbbbbbbbbabaaabb", "abbbabbbbabaaaababbbaaabaababaabbbabaabaaaaaaaaabbbabbbb", "aabaababbbbbabbaaabaababbaaabaabaababbbabaababaabbabaaabababbaabaabbbaaaaaaabaabbbabbbb", "abbbbaaaabbbbbabbaabaaabbaabbbbbaaaaaaaabbaabaaaaabaabbaabbbbabbabbbabbbbbaabaabaababaababbbbaaab", "bbbabaababbbbbbababaabbbabbabaaaaaabaaababababbbbabbbbabababaabaa", "bbabaaaababababbaaaaaaaabaaaabbbabaabaaaabbbbaabaaaaaaababbaabbaabaabaabbbaabbaaba", "a", "bbaabaaabaaaaabababaababbabbabbbabbbbbbabaababbbbaaaaabbaababaaaabb", "bbaabaababbbabba", "bbbbabbbbbbbaaab", "aabaababaaaaabbbaaabbbbaaabaaabababbbbabbabbbaabb", "aabbbbbaabababbbaaaabbababbaaabbbaaaaaaababbaaaaaabbbbabbaabababbbb", "bbbaaaaaaaaabb", "a", "aaaaabbbaaabaaabbabaababababbaabaaaaabbababbabbbbabaaababbbababaabaaaaaaabba", "ababbabbbbaaaababbbbabbaababbaabbaaaabbbabbbbabbaaa", "abaababaabbbbaabbbaabbbaaababbabbabaaaaaabbbbbbbbbbabaabaabbb", "aabbabaabaaabbaaababbbbbaabbbbaabbbaababbabbabbaabababbababbbbbbaabaabbbabaaaa", "bbaaaababaaabbbaaabaababbbabbabababbaaabaaaabbabbaabbababbbababaaaaaaaabaabbbbbbbbaabbaaabababa", "babaabbababababbbababaaabbbbabaabbababbbbbbabbbbbbbabaaabaabbabbbbabaaabbbaaabbbababbaa", "aabaabbbababbaaababaaababbaaaaaaaaaabbbbbbaabbbabaabaaaabaababaabaaaabbbaabbbabaaaabaabbabb", "ababbabbbbabbaaaababbaababbaaaabbaaaaaabbaa", "aaabaaabbabbbaabaaabbbbbbbbaabaaaabaabbbbabaabaabababbaaabaaaabaaaabaaabababaabaabaaa", "aabbbabaaaabbabbabbaabaababaababbaaaabaabbbabaababbaabaaabaaaabaabaabbbaaab", "bbbbaabaaaaabaaabaabbaaabbbbbabababbabbabaaaababbaba", "bbaaaabababbbabababbaaabababababaabaababbbaababaaaaaaaabbaaababbabbbabababbbbaabbabbababaabbabbbaaaa", "ababaaababaabbaaabaabababaabaababaabaaaaaaabaababaaaababbaabaaa", "aabaabaaaabaababbaabaaabbabbabbabaabbaab", "bbaababaaaaaabbbabbbaaaaa", "bbabbbaaaaabaaaaaabababbbbbabbaaa", "babaabaabaabaabbabbbababbbababbbb", "bbabbbbbabbbbaaabababababbbabababbaaabbababaaaaaaaaaabaabbaab", "aaaaaaababbabaabaabaaabaaabaaaabaababbbbabbbbbbbaabaaabababbbbabbaaabbaaabbbbaab", "bbbaaabbbaaabbbbbaabaabbabaabbbbbbbbbaaaaaabababbbabbabbbbaabbbaaabbaabbabaabbaaaaababbbabababbbabaa", "abbbaaababbabababaaaaababaaaaabaabaababbbabaaaaabbabbbbabbba", "aaabaaabbbabbbbbbbaaaabbbabbbbbbbbbabbb", "bbbaaabaaaaaaabbaaabbbababbbbababaaabbabbabbaabab", "bababbbabaaaaabaaaaabbaabbaabbbbaabbaaabbabbaaaaaaabbbbaaaabbaababbaabbbbbaabaaaabbaabaabbbabaab"};
        System.out.println(solve(arr));
    }

    static int solve(String[] A) {
        long[] timeTaken = new long[A.length];
        int idx = 0;
        for (String s :
                A) {
            int time = 1;
            StringBuilder sb = new StringBuilder(s);
            String rem = sb.substring(0, time % s.length());
            sb.delete(0, time % s.length());
            sb.append(rem);
            while (!sb.toString().equals(s)) {
                time++;
                rem = sb.substring(0, time % s.length());
                sb.delete(0, time % s.length());
                sb.append(rem);
            }
            timeTaken[idx++] = time;

        }

        return (int) (lcm(timeTaken) % (Math.pow(10, 9) + 7));
    }

    static int lcm(long[] nums) {
        long lcm = 1;

        int divisor = 2;
        while (true) {
            int counter = 0;
            boolean divisible = false;
            for (int i = 0; i < nums.length; i++) {
                if (nums[i] == 1) {
                    counter++;
                }

                if (nums[i] % divisor == 0) {
                    divisible = true;
                    nums[i] = nums[i] / divisor;
                }
            }

            if (divisible) {
                lcm = (lcm * divisor);
            } else {
                divisor++;
            }

            if (counter == nums.length) {
                return (int) (lcm % (Math.pow(10, 9) + 7));
            }
        }
    }

    static int gcd(int[] nums) {
        int result = nums[0];
        for (int i = 1; i < nums.length; i++) {
            if (result == 1) {
                return 1;
            }
            result = findGCD(result, nums[i]);
        }
        return result;
    }

    static int findGCD(int a, int b) {
        if (a == 0) {
            return 0;
        }
        return findGCD(b % a, a);
    }
}
